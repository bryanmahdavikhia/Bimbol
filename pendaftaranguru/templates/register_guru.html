{% extends 'base-forum.html' %}

{% load static %}

{% block content %}	

<div class="container">
  <h1 class="title"> Registration Teacher </h1>
  <div class="shadow p-4 mb-5 bg-body rounded"> 
<form method="POST" id = "registrationform"> 
{% csrf_token %}
  <div class="form-group">
    {{registerform.username.label_tag}}
    {{registerform.username}}
  </div>

  <br>

  <div class="form-group">
  {{registerform.password1.label_tag}}
  {{registerform.password1}}
  </div>

  <br>

  <div class="form-group">
    {{registerform.password2.label_tag}}
    {{registerform.password2}}
  </div>

    
  <br>

  <div class="form-group">
    {{registerform.email.label_tag}}
    {{registerform.email}}
  </div>
      
  <br/>

  <div class="form-group">
    {{registerform.nama_lengkap.label_tag}}
    {{registerform.nama_lengkap}}
  </div>

  <br>
  <div class="form-group">
    {{registerform.nomor_telefon.label_tag}}
    {{registerform.nomor_telefon}}

  </div>


  <br>

  <div class="form-group">
    {{registerform.tanggal_lahir.label_tag}}
    <div class="form-row">
      {{registerform.tanggal_lahir}}
    </div>
  </div>

  <br>

  <div class="form-group">
    {{registerform.kelas.label_tag}}
    {% for kelas in registerform.kelas %}
      <div class="form-group">
        {{kelas.tag}}
        <label for="{{kelas.id_for_label}}">
          {{kelas.choice_label}}
        </label>
      </div>
    {% endfor %}
  </div>

  <br>

  <div class="form-group">
    {{registerform.mata_pelajaran.label_tag}}
    {% for mata_pelajaran in registerform.mata_pelajaran %}
      <div class="form-group">
        {{mata_pelajaran.tag}}
        <label for="{{mata_pelajaran.id_for_label}}">
          {{mata_pelajaran.choice_label}}
        </label>
      </div>
    {% endfor %}
  </div>

  <br>

  <div class="form-group">
    {{ registerform.alamat.label_tag}}
      {{ registerform.alamat}}
  </div>

  <br>

  <div class="form-group">
    {{registerform.jenis_kelamin.label_tag}}
    {% for jenis_kelamin in registerform.jenis_kelamin %}
      <div class="form-group">
        {{jenis_kelamin.tag}}
        <label for="{{jenis_kelamin.id_for_label}}">
          {{jenis_kelamin.choice_label}}
        </label>
      </div>
    {% endfor %}
  </div>

  <br>

  <div class="form-group">
    {{registerform.validasi_guru.label_tag}}
    {{registerform.validasi_guru}}
  </div>

  <br>

  <div class="form-group">
    {{registerform.agree.label_tag}}
    {{registerform.agree}}
  </div>

  <br>
  <button class="btn-primary" type="submit" >Submit</button>
</form>
</div>
</div>
{% endblock %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/8.11.8/sweetalert2.all.min.js"></script>

<script>
  var form = document.getElementsByTagName("form");
  $("#registrationform").submit(function (e) {
    e.preventDefault();
    console.log(e);

    function validator() {
      if (
        $("#registrationform").val() === "" 
      ) {
        Swal.fire({
          type: "warning",
          title: "aduh...",
          text: "ISI!",
        });
        return true;
      
      }
    }

    if (validator()) {
      return;
    } 
    else {
      $.ajax({
        url: "",
        type: "POST",
        data: $("#registrationform").serialize(),
        success: function (response) {
          Swal.fire({
            type: "success",
            title: "BERHASILLLLL!",
            text: "YEY!"
          });
        },
      });
    }
  }
</script>